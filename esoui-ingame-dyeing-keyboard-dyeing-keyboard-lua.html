<!doctype html>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="prism.css">
<nav><a href="index.html">&larr; back</a></nav>
<pre class="line-numbers"><code class="language-diff">
diff --git a/esoui/ingame/dyeing/keyboard/dyeing_keyboard.lua b/esoui/ingame/dyeing/keyboard/dyeing_keyboard.lua
index dd75927..5620954 100755
--- a/esoui/ingame/dyeing/keyboard/dyeing_keyboard.lua
+++ b/esoui/ingame/dyeing/keyboard/dyeing_keyboard.lua
@@ -656,14 +656,14 @@ function ZO_DyeingEquipmentSheet:Initialize(control, onEquipSlotClickedCallback,
         self:MarkViewDirty()
     end
 
+    --Filtered on bagId == BAG_WORN
     local function OnInventorySlotUpdated(eventCode, bagId, slotIndex)
-        if bagId == BAG_WORN then
         self:MarkViewDirty()
     end
-    end
 
     control:RegisterForEvent(EVENT_INVENTORY_FULL_UPDATE, OnFullInventoryUpdated)
     control:RegisterForEvent(EVENT_INVENTORY_SINGLE_SLOT_UPDATE, OnInventorySlotUpdated)
+    control:AddFilterForEvent(EVENT_INVENTORY_SINGLE_SLOT_UPDATE, REGISTER_FILTER_BAG_ID, BAG_WORN)
 
     self:MarkViewDirty()
 end
</code></pre>
<script src="prism.js"></script>
