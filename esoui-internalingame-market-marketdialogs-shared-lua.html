<!doctype html>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="prism.css">
<nav><a href="index.html">&larr; back</a></nav>
<pre class="line-numbers"><code class="language-diff">
diff --git a/esoui/internalingame/market/marketdialogs_shared.lua b/esoui/internalingame/market/marketdialogs_shared.lua
index 7284972..3ed0d98 100755
--- a/esoui/internalingame/market/marketdialogs_shared.lua
+++ b/esoui/internalingame/market/marketdialogs_shared.lua
@@ -1,6 +1,9 @@
-﻿ZO_BUY_CROWNS_URL = {url = GetString(SI_MARKET_INSUFFICIENT_FUNDS_LINK)}
+﻿ZO_BUY_CROWNS_URL_TYPE = {urlType = APPROVED_URL_ESO_ACCOUNT_STORE}
 ZO_BUY_CROWNS_FRONT_FACING_ADDRESS = {mainTextParams = {GetString(SI_MARKET_INSUFFICIENT_FUNDS_LINK_TEXT), GetString(SI_URL_APPLICATION_WEB)}}
 
-function ZO_MarketDialogs_Shared_OpenURL(dialog)
-    ConfirmOpenURL(dialog.data.url)
+ZO_BUY_SUBSCRIPTION_URL_TYPE = { urlType = APPROVED_URL_ESO_ACCOUNT_SUBSCRIPTION }
+ZO_BUY_SUBSCRIPTION_FRONT_FACING_ADDRESS = {mainTextParams = { GetString(SI_ESO_PLUS_SUBSCRIPTION_LINK_TEXT), GetString(SI_URL_APPLICATION_WEB) }}
+
+function ZO_MarketDialogs_Shared_OpenURLByType(dialog)
+    OpenURLByType(dialog.data.urlType)
 end
\ No newline at end of file
</code></pre>
<script src="prism.js"></script>
