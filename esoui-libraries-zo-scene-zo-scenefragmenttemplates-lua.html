<!doctype html>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="prism.css">
<nav><a href="index.html">&larr; back</a></nav>
<pre class="line-numbers"><code class="language-diff">
diff --git a/esoui/libraries/zo_scene/zo_scenefragmenttemplates.lua b/esoui/libraries/zo_scene/zo_scenefragmenttemplates.lua
index f93cd77..4be855e 100755
--- a/esoui/libraries/zo_scene/zo_scenefragmenttemplates.lua
+++ b/esoui/libraries/zo_scene/zo_scenefragmenttemplates.lua
@@ -629,6 +629,12 @@ ZO_ActionLayerFragment = ZO_SceneFragment:Subclass()
 function ZO_ActionLayerFragment:New(actionLayerName)
     local fragment = ZO_SceneFragment.New(self)
     fragment.actionLayerName = actionLayerName
+
+    --ZO_ActionLayerFragments should always refresh so that in the case where a new scene
+    --is shown with a different combination of layers, the intended stack order for the layers
+    --won't be broken by leaving the previous ones pushed.
+    fragment:SetForceRefresh(true)
+
     return fragment
 end
 
</code></pre>
<script src="prism.js"></script>
